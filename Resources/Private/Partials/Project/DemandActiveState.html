<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>
    <f:variable name="activeStateOptions" value="{demand.possibleActiveStates}" />
    <label for="activeState">
        {f:translate(
            key: 'activeState.label',
            extensionName: 'academic_projects'
        )}
    </label>
    <f:form.select
        id="activeState"
        property="activeState"
        value="{demand.activeState}"
        additionalAttributes="{'onchange': 'this.form.submit()'}"
    >
        <f:for each="{activeStateOptions}" as="option">
            <f:if condition="{option} == {demand.activeState}">
                <f:then>
                    <option value="{option}" selected>
                        {f:translate(
                            key: 'activeState.{option}',
                            extensionName: 'academic_projects'
                        )}
                    </option>
                </f:then>
                <f:else>
                    <option value="{option}">
                        {f:translate(
                            key: 'activeState.{option}',
                            extensionName: 'academic_projects'
                        )}
                    </option>
                </f:else>
            </f:if>
        </f:for>
    </f:form.select>
</html>
